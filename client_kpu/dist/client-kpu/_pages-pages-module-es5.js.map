{"version":3,"sources":["src/app/_pages/pages.component.html","src/app/_pages/pages.component.css","src/app/_pages/pages.component.ts","src/app/_pages/pages.module.ts","src/app/_shared/guard/auth-guard.service.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<div class=\\\"m-0\\\">\\r\\n  <div id=\\\"carouselBanner\\\" class=\\\"carousel slide\\\" data-ride=\\\"carousel\\\" data-interval=\\\"2345\\\"\\r\\n    *ngIf=\\\"!router.url.includes('/status') && !router.url.includes('/election/')\\\">\\r\\n    <div class=\\\"carousel-inner\\\">\\r\\n      <div class=\\\"carousel-item\\\" [ngClass]=\\\"{ active: idx == 0 }\\\" *ngFor=\\\"let i of banner; index as idx\\\">\\r\\n        <img class=\\\"d-block img-fluid w-100\\\" [src]=\\\"i.bannerImage\\\" [ngStyle]=\\\"{\\r\\n          height: ((router.url === '/home') ? '256px' : (router.url.includes('/status')) ? '0px' : '118px'),\\r\\n          transition: '.25s ease-in-out',\\r\\n          objectFit: 'cover'\\r\\n        }\\\" />\\r\\n      </div>\\r\\n    </div>\\r\\n    <a class=\\\"carousel-control-prev\\\" href=\\\"#carouselBanner\\\" role=\\\"button\\\" data-slide=\\\"prev\\\" *ngIf=\\\"router.url === '/home'\\\">\\r\\n      <span class=\\\"carousel-control-prev-icon\\\" aria-hidden=\\\"true\\\"></span>\\r\\n      <span class=\\\"sr-only\\\">Previous</span>\\r\\n    </a>\\r\\n    <a class=\\\"carousel-control-next\\\" href=\\\"#carouselBanner\\\" role=\\\"button\\\" data-slide=\\\"next\\\" *ngIf=\\\"router.url === '/home'\\\">\\r\\n      <span class=\\\"carousel-control-next-icon\\\" aria-hidden=\\\"true\\\"></span>\\r\\n      <span class=\\\"sr-only\\\">Next</span>\\r\\n    </a>\\r\\n  </div>\\r\\n  <router-outlet></router-outlet>\\r\\n</div>\\r\\n\"","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL19wYWdlcy9wYWdlcy5jb21wb25lbnQuY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { AuthService } from '../_shared/services/auth.service';\n\nimport { environment } from 'src/environments/environment';\nimport { GlobalService } from '../_shared/services/global.service';\n\n@Component({\n  selector: 'app-pages',\n  templateUrl: './pages.component.html',\n  styleUrls: ['./pages.component.css']\n})\nexport class PagesComponent implements OnInit {\n\n  banner = [];\n\n  constructor(\n    public router: Router,\n    public gs: GlobalService,\n    private as: AuthService\n  ) {\n    this.banner = [\n      { bannerImage: 'https://img.alinea.id/img/content/2020/03/04/67257/mencari-formula-terbaik-pemilu-serentak-drimdKVyAM.jpg' },\n      { bannerImage: 'https://www.goodnewsfromindonesia.id/uploads/post/large-pemilu-2-a3c65072330fe3159814fa7a3e5bbc11.jpg' }\n    ];\n  }\n\n  ngOnInit() {\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AuthGuardService } from '../_shared/guard/auth-guard.service';\n\nimport { PagesComponent } from './pages.component';\nimport { Role } from '../_shared/models/role';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PagesComponent,\n    children: [\n      { path: '', redirectTo: 'home', pathMatch: 'full' },\n      {\n        path: 'admin',\n        loadChildren: () => import('./admin/admin.module').then(m => m.AdminModule),\n        canActivate: [AuthGuardService],\n        data: {\n          title: 'Admin Panel',\n          description: 'Halaman Khusus Untuk Administrasi',\n          keywords: 'Blockchain E-Voting',\n          roles: [Role.Admin]\n        }\n      },\n      {\n        path: 'home',\n        loadChildren: () => import('./home/home.module').then(m => m.HomeModule),\n        data: {\n          title: 'Home Page',\n          description: 'Halaman Overview',\n          keywords: 'Blockchain E-Voting'\n        }\n      },\n      {\n        path: 'explorer',\n        loadChildren: () => import('./explorer/explorer.module').then(m => m.ExplorerModule),\n        data: {\n          title: 'Ethereum Blockchain Explorer',\n          description: 'Menjelajah Data Blockchain',\n          keywords: 'Blockchain E-Voting'\n        }\n      },\n      {\n        path: 'fund',\n        loadChildren: () => import('./fund/fund.module').then(m => m.FundModule),\n        data: {\n          title: 'Ethereum Money Request',\n          description: 'Meminta Sejumlah Koin Untuk Biaya Transaksi',\n          keywords: 'Blockchain E-Voting',\n          roles: [Role.Admin, Role.Miner, Role.Voter]\n        }\n      },\n      {\n        path: 'status',\n        loadChildren: () => import('./status/status.module').then(m => m.StatusModule),\n        data: {\n          title: 'Ethereum Network Status',\n          description: 'Detail Jaringan Ethereum',\n          keywords: 'Blockchain E-Voting'\n        }\n      },\n      {\n        path: 'election',\n        loadChildren: () => import('./election/election.module').then(m => m.ElectionModule),\n        data: {\n          title: 'All Election',\n          description: 'Daftar Semua Public Election Aktif',\n          keywords: 'Blockchain E-Voting'\n        }\n      },\n      {\n        path: 'library',\n        loadChildren: () => import('./my-election/my-election.module').then(m => m.MyElectionModule),\n        canActivate: [AuthGuardService],\n        data: {\n          title: 'My Election',\n          description: 'Halaman Daftar Pemilu Yang Dibuat Dan Diikuti',\n          keywords: 'Blockchain E-Voting',\n          roles: [Role.Admin, Role.Miner, Role.Voter]\n        }\n      },\n      {\n        path: '**',\n        redirectTo: 'home'\n        // loadChildren: () => import('./not-found/not-found.module').then(m => m.NotFoundModule)\n      }\n    ]\n  }\n];\n\n@NgModule({\n  declarations: [PagesComponent],\n  imports: [\n    CommonModule,\n    RouterModule.forChild(routes)\n  ]\n})\nexport class PagesModule {}\n","import { Injectable } from '@angular/core';\r\nimport { Router, ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree, CanActivate } from '@angular/router';\r\n\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { GlobalService } from '../services/global.service';\r\nimport { AuthService } from '../services/auth.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AuthGuardService implements CanActivate {\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private as: AuthService\r\n  ) { }\r\n\r\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\r\n    const currentUser = this.as.currentUserValue;\r\n    if (currentUser) {\r\n      if (route.data.roles && route.data.roles.indexOf(currentUser.role) === -1) {\r\n        this.router.navigate(['/']);\r\n        return false;\r\n      }\r\n      return true;\r\n    }\r\n    this.router.navigate(['/login'], { queryParams: { returnUrl: state.url }});\r\n    return false;\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///","file":"_pages-pages-module-es5.js"}